<template>
    <lightning-card>
        <template if:true={OrderDetail}>
            <tr>
                <th style="padding: 5px 20px 5px;"> Order No:</th>
                <td>
                    <div class="slds-truncate">{OrderNo}</div>
                </td>
            </tr>
        </template>
        <template if:false={OrderDetail}>
            <tr>
                <th style="padding: 5px 20px 5px;"> Order No:</th>
                <td>
                    <div class="slds-truncate">
                        <a>
                            <p onclick={openOrderSelectionModal}>No Order are linked. Click here to select the
                                order.</p>
                        </a>
                    </div>
                </td>
            </tr>
        </template>

        <template if:true={showOrderSelectionModal}>
            <div class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <div class="slds-modal__header">
                        <h2 class="slds-text-heading_medium">Select Order</h2>
                    </div>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-record-edit-form object-api-name="Case" record-id={recordId} value={AllOrders}>
                            <div class="slds-box">
                                <lightning-record-picker object-api-name="Order" placeholder="Search..."
                                    label="Select a record" onchange={handleChange}>
                                </lightning-record-picker>
                            </div>
                        </lightning-record-edit-form>
                    </div>
                    <div class="slds-modal__footer">
                        <button class="slds-button slds-button_brand" onclick={handleModalSave}>Save</button>
                        <button class="slds-button slds-button_neutral"
                            onclick={closeOrderSelectionModal}>Cancel</button>
                    </div>
                </div>
            </div>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
    </lightning-card>
</template>